data_repository:
  timeframes: ["1d", "4h"]
  max_symbols: 100


exchange:
  id: binance
  derivatives:
    id: binanceusdm     # CCXT id for Binance USDT-M futures

universe:
  symbols:
    - BTC/USDT
    - ETH/USDT
    - ZEC/USDT
    - LTC/USDT

ranking:
  max_symbols: 20   # cap how many symbols you scan per run

#filters:
#  min_trend_score: 25        # require at least moderate trend quality
#  min_rs_score: 20           # require at least moderate relative strength
#  min_volume_score: 30    # weed out the truly dead names
#  min_volatility_score: 0    # keep all for now, or raise if you want squeezes only
#  max_atr_pct: 25            # avoid super-crazy ATR%
#  max_bb_width_pct: 60       # avoid names with massive expansion

confluence:
  default_regime: sideways
  regime_weights:
    bull:
      trend: 0.30
      volume: 0.25
      volatility: 0.10
      rs: 0.25
      positioning: 0.10
    sideways:
      trend: 0.20
      volume: 0.25
      volatility: 0.25
      rs: 0.20
      positioning: 0.10
    bear:
      trend: 0.25
      volume: 0.15
      volatility: 0.20
      rs: 0.20
      positioning: 0.20

regimes:
  bull_min_risk_on: 65
  bull_min_breadth: 60
  bull_min_trend: 60

  bear_max_risk_on: 35
  bear_max_breadth: 40
  bear_max_trend: 40

reports:
  top_n: 20
  output_dir: reports

alerts:
  enabled: true

  # Global thresholds (mainly used for HIGH_CONFLUENCE)
  min_confluence_score: 60
  min_trend_score: 55
  min_volume_score: 50
  min_positioning_score: 50
  require_uptrend_regime: false

  # State / dedupe
  state_file: "alerts_state.json"
  min_cs_delta: 3.0
  cooldown_minutes: 60

  # Which alert types are active
  types:
    high_confluence: true
    volume_spike: true
    squeeze_candidate: true
    regime_change: true
    rsi_divergence: true   

  # Per-type extra thresholds
  volume_spike_min_volume_score: 75      # volume spike detection
  squeeze_max_vol_score: 40             # low volatility score
  squeeze_max_bbw_pct: 6                # low BB width (% of mid)
  rsi_divergence_timeframes:
    - "4h"
    - "1h"
    - "15m"
  rsi_divergence_lookback: 300    # bars to fetch
  rsi_divergence_pivot_lookback: 2
  rsi_divergence_min_strength: 1  # minimum RSI difference between pivots
  rsi_divergence_max_bars_from_last: 10  # <= divergence must finish within last n bar(s)

  # Turn detailed divergence logging on/off
  rsi_divergence_debug: true

  # Timezone for divergence debugging logs
  # Examples: "UTC", "America/Denver", "America/Chicago", "Europe/London"
  rsi_divergence_timezone: "America/Denver"


  telegram:
    enabled: false
    bot_token: "YOUR_TELEGRAM_BOT_TOKEN"
    chat_id: "YOUR_CHAT_ID"

  discord:
    enabled: false
    webhook_url: "https://discord.com/api/webhooks/XXX/YYY"
