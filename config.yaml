data_repository:
  timeframes: ["1d", "4h"]
  max_symbols: 1000


exchange:
  id: binance
  derivatives:
    id: binanceusdm     # CCXT id for Binance USDT-M futures

universe:
  symbols:
    - BTC/USDT
    - ETH/USDT
    - ZEC/USDT
    - LTC/USDT

ranking:
  max_symbols: 100   # cap how many symbols you rank per run


filters:
#  min_trend_score: 20       # require at least moderate trend quality
#  min_rs_score: 20           # require at least moderate relative strength
#  min_volume_score: 30    # weed out the truly dead names
#  min_volatility_score: 0    # keep all for now, or raise if you want squeezes only
#  max_atr_pct: 25            # avoid super-crazy ATR%
#  max_bb_width_pct: 60       # avoid names with massive expansion
  min_positioning_score: 52  # no filter on positioning for now
  min_confluence_score: 30  # overall confluence filter

confluence:
  default_regime: sideways
  regime_weights:
    bull:
      trend_score: 0.30
      volume_score: 0.25
      volatility_score: 0.10
      rs_score: 0.25
      positioning_score: 0.10
    sideways:
      trend_score: 0.20
      volume_score: 0.25
      volatility_score: 0.25
      rs_score: 0.20
      positioning_score: 0.10
    bear:
      trend_score: 0.25
      volume_score: 0.15
      volatility_score: 0.20
      rs_score: 0.20
      positioning_score: 0.20


regimes:
  bull_min_risk_on: 65
  bull_min_breadth: 60
  bull_min_trend: 60

  bear_max_risk_on: 35
  bear_max_breadth: 40
  bear_max_trend: 40




patterns_profile: aggresive   # choose one: default, chatGPT_default, aggressive, conservative

# Codex Default Pattern Configs
pattern_profiles:
  default:
    enabled:
      - rsi_divergence
      - breakout
      - pullback
      - volatility_squeeze

    breakout: 
      lookback: 5
      min_rvol: 1.5
      min_trend_score: 55
      min_volume_score: 50
      min_rs_score: 60
      min_confluence: 60
      break_buffer_pct: 0.1

    pullback:
      lookback: 15
      min_trend_score: 60
      min_pullback_pct: 2.0
      max_pullback_pct: 10.0
      ma_proximity_pct: 5.0
      max_rvol: 2.0
      min_rs_score: 40.0
      max_rsi_in_trend: 55.0

    volatility_squeeze:
      max_bb_width_pct: 6.0
      max_contraction_ratio: 1.0
      min_volatility_score: 60.0
      min_trend_score: 0.0
      min_rs_score: 0.0

    rsi_divergence:
      period: 14 #14
      lookback: 300 #300
      pivot_lookback: 2 #3
      min_strength: 0.5 #1.0
      max_bars_from_last: 20 #5
      debug: false
      timezone: UTC

#ChatGPT5 Custom Pattern Configs 
pattern_profiles:
  chatGPT_default:
    enabled:
      - breakout
      - pullback
      - volatility_squeeze
      - rsi_divergence

    # -------------------------
    #  MINERVINI + HOUGAARD
    # -------------------------
    breakout:
      lookback: 5                     # Recent range
      min_rvol: 1.5                   # Volume expansion (Minervini)
      min_trend_score: 40             # Trend must be constructive
      min_volume_score: 30            # Avoid dead names
      min_rs_score: 30                # Strong RS bias (Minervini)
      min_confluence: 40              # Overall score must be decent
      break_buffer_pct: 0.25          # Give a little wiggle room
      min_body_pct: 20                # Prevent weak/noisy closes
      min_close_strength: 0.65        # Hougaard: close must be near highs of day

    # -------------------------
    #  RASCHKE + MINERVINI
    # -------------------------
    pullback:
      lookback: 7                     # Typical measured pullback length
      min_pullback_pct: 2.0           # Needs actual retracement
      max_pullback_pct: 12.0          # Avoid deep corrections
      ma_proximity_pct: 5.0           # Raschke “Holy Grail” pullback into MA
      allow_above_ma: false           # Must pull back *to* the MA
      min_trend_score: 50             # Trend must be strong (Minervini SEPA)
      min_rs_score: 40                # Leaders only
      max_volatility_ratio: 1.2       # Pullback shouldn't be more volatile than base leg

    # -------------------------
    #  RASCHKE CORE SETUP
    # -------------------------
    volatility_squeeze:
      max_bb_width_pct: 10.0          # Tight compression (Raschke)
      max_contraction_ratio: 1.2      # ATR(20)/ATR(60) contraction
      min_volatility_score: 25        # Don’t take dead names
      trend_bias: "any"               # Could choose up only, but leave flexible
      min_range_constriction_pct: 25  # Inside-range compression

    # -------------------------
    #  RASCHKE + HOUGAARD
    # -------------------------
    rsi_divergence:
      lookback: 200                   # Look back far enough
      period: 14                      # Standard RSI
      pivot_lookback: 2               # Pivot tightness
      min_strength: 0.6               # Avoid weak, messy divergences
      max_bars_from_last: 4           # Must be *recent*
      min_trend_score_for_bull: 20    # Divergences against uptrends should be subtle
      min_trend_score_for_bear: 20
      require_price_structure: true   # Confirm with HH/LL structure
      debug: false

# ChatGPT5 Custom Pattern Configs (Aggressive Mode)
pattern_profiles:
  aggressive:
    enabled:
      - breakout
      - pullback
      - volatility_squeeze
      - rsi_divergence

    breakout:
      lookback: 5
      min_rvol: 1.2               # minimal volume expansion    1.0 before
      min_trend_score: 25         # trend can be weak    20 before
      min_volume_score: 20
      min_rs_score: 20            # mild RS bias
      min_confluence: 25          # allow “C” setups    20 before
      break_buffer_pct: 0.15       # easier to qualify as a breakout    .2 before
      min_body_pct: 15            # allow smaller bodies    10 before
      min_close_strength: 0.55    # doesn’t need to be a monster close    0.5 before

    pullback:
      lookback: 7
      min_pullback_pct: 1.0       # even shallow dips count
      max_pullback_pct: 15.0      # tolerate deeper shakeouts
      ma_proximity_pct: 8.0       # looser touch of MA
      allow_above_ma: true        # allow pullbacks that don't quite tag MA
      min_trend_score: 35         # trend can be weak    25 before
      min_rs_score: 30            # mild RS leadership    20 before
      max_volatility_ratio: 1.4   # allow noisier pullbacks

    volatility_squeeze:
      max_bb_width_pct: 15.0      # wider bands acceptable
      max_contraction_ratio: 1.5  # modest contraction
      min_volatility_score: 10    # almost anything not dead
      trend_bias: "any"           # up/down/sideways
      min_range_constriction_pct: 15

    rsi_divergence:
      lookback: 200
      period: 14
      pivot_lookback: 2
      min_strength: 0.4           # pick up weaker divergences
      max_bars_from_last: 6       # pivot can be older
      min_trend_score_for_bull: 10
      min_trend_score_for_bear: 10
      require_price_structure: false   # don’t insist on textbook HH/LL
      debug: false

# ChatGPT5 Custom Pattern Configs (Conservative Mode)
pattern_profiles:
  conservative:
    enabled:
      - breakout
      - pullback
      - volatility_squeeze
      - rsi_divergence

    breakout:
      lookback: 5
      min_rvol: 2.0               # strong volume expansion
      min_trend_score: 60         # clear uptrend
      min_volume_score: 50        # avoid thin junk
      min_rs_score: 60            # true leadership
      min_confluence: 60          # overall confluence must be strong
      break_buffer_pct: 0.2       # breakout should be clean
      min_body_pct: 25            # strong, wide-range body
      min_close_strength: 0.75    # close very near highs (Hougaard)

    pullback:
      lookback: 7
      min_pullback_pct: 3.0       # no micro-wiggles
      max_pullback_pct: 8.0       # shallow, controlled pullback
      ma_proximity_pct: 3.0       # tight touch of MA (Holy Grail style)
      allow_above_ma: false       # want a true pullback *to* MA zone
      min_trend_score: 60         # strong trend / SEPA-style
      min_rs_score: 60            # top RS names only
      max_volatility_ratio: 1.1   # pullback calmer than impulse leg

    volatility_squeeze:
      max_bb_width_pct: 7.0       # very tight compression
      max_contraction_ratio: 1.1  # real volatility contraction
      min_volatility_score: 40    # no dead or random names
      trend_bias: "up"            # prefer squeezes in uptrends
      min_range_constriction_pct: 30

    rsi_divergence:
      lookback: 200
      period: 14
      pivot_lookback: 2
      min_strength: 0.75          # only clear, strong divergences
      max_bars_from_last: 3       # must be very recent
      min_trend_score_for_bull: 40
      min_trend_score_for_bear: 40
      require_price_structure: true   # insist on proper HH/LL context
      debug: false



reports:
  top_n: 20
  output_dir: reports

alerts:
  enabled: true

  # Global thresholds (mainly used for HIGH_CONFLUENCE)
  min_confluence_score: 60
  min_trend_score: 55
  min_volume_score: 50
  min_positioning_score: 50
  require_uptrend_regime: false

  # State / dedupe
  state_file: "alerts_state.json"
  min_cs_delta: 3.0
  cooldown_minutes: 60

  # Which alert types are active
  types:
    high_confluence: true
    volume_spike: true
    squeeze_candidate: true
    regime_change: true
    rsi_divergence: true   

  # Per-type extra thresholds
  volume_spike_min_volume_score: 75      # volume spike detection
  squeeze_max_vol_score: 40             # low volatility score
  squeeze_max_bbw_pct: 6                # low BB width (% of mid)
  rsi_divergence_timeframes:
    - "4h"
    - "1h"
    - "15m"
  rsi_divergence_lookback: 300    # bars to fetch
  rsi_divergence_pivot_lookback: 2
  rsi_divergence_min_strength: 1  # minimum RSI difference between pivots
  rsi_divergence_max_bars_from_last: 10  # <= divergence must finish within last n bar(s)

  # Turn detailed divergence logging on/off
  rsi_divergence_debug: true

  # Timezone for divergence debugging logs
  # Examples: "UTC", "America/Denver", "America/Chicago", "Europe/London"
  rsi_divergence_timezone: "America/Denver"


  telegram:
    enabled: false
    bot_token: "YOUR_TELEGRAM_BOT_TOKEN"
    chat_id: "YOUR_CHAT_ID"

  discord:
    enabled: false
    webhook_url: "https://discord.com/api/webhooks/XXX/YYY"

